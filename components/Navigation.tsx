import React, { useState, useEffect } from 'react';
import { View } from '../types';

interface NavigationProps {
  currentView: View;
  onChangeView: (view: View) => void;
}

export const Navigation: React.FC<NavigationProps> = ({ 
  currentView, 
  onChangeView
}) => {
  const [scrolled, setScrolled] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      // OPTIMIZED: Reduced threshold from 20 to 10 for faster reaction
      setScrolled(window.scrollY > 10);
    };
    window.addEventListener('scroll', handleScroll, { passive: true }); // Added passive listener for performance
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const navItems: { label: string; value: View }[] = [
    { label: 'Home', value: 'home' },
    { label: 'Projetos', value: 'projects' },
    { label: 'HistÃ³ria', value: 'history' },
    { label: 'Contato', value: 'contact' },
  ];

  return (
    // OPTIMIZED: duration-300 -> duration-200 for snappy background appearance
    <nav className={`fixed top-0 left-0 w-full z-40 transition-all duration-200 ease-out ${scrolled ? 'bg-background/95 backdrop-blur-sm py-4 border-b border-gray-200 shadow-sm' : 'bg-transparent py-6'}`}>
      <div className="container mx-auto px-6 md:px-12 flex flex-row justify-between items-center">
        
        {/* LOGO AREA - Left Aligned */}
        <div 
          id="logo-svg"
          className="cursor-pointer group"
          onClick={() => onChangeView('home')}
        >
          {/* Custom SVG Logo */}
          <div className="w-32 md:w-40 text-ink">
             <svg viewBox="0 0 483.07 264.45" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M253.51,17.07c-.95,1.26-5.83,3.8-3.04,6.56l67.85-7.47c53.94-.55,107.34-.84,160.34,9.63,1.58.31,4.77.1,4.38,2.23l-36.72-5-51.2-3.88-40.55,1.52c-.43,2.11,1.49,4.72,1.16,6.48-.4,2.17-27.31,21.89-31.51,25.94-7.57,7.29-17.17,19.13-24.26,27.43-3.71,4.34-15.08,25.56-19.96,15.46-4.26-8.82,4.17-18.21,5.14-26.57-7.17,5.46-12.16,14.52-18.39,20.77-4.16,4.18-9.36,9.52-15.36,5.59-1.22-1.92,1.75-11.84-2.4-10.1-18.9,22.6-41.1,15.48-18.43-12.52,4.47-5.52,23.24-21.82,29.9-19.8,2.08.63,3.52,3.91,4.94,4.14,2.25.36,7.91-7.69,10.12,4.55-4.74,8.12-16.48,15.03-16.23,25.09,12.92-10.88,24.62-25.09,34.59-38.88.91-1.45,3.76-1.44,5.09-1.06,7.31,2.08-10.47,28.38-10.64,33.56-1.29,2.5,2.03,2.53,2.69,1.95.88-.77,5.76-9.12,7.93-11.29,14.88-14.91,30.32-29.32,45.34-44l1.38-6.72-100.84,10.65c-4.89,1.2-16.36,17.82-19.97,22.85-10.57,14.72-24.44,36.78-30.52,53.66-1.04,2.89-5.83,16.95-.69,15.61l5.82-2.33c-.78,7.69-12.36,13.22-14.47,3.33-3.06-14.38,14.67-39.6,18.88-53.55-2.99,5.53-16.57,14.95-18.43,19.22-1.38,3.15-.2,6.38-1.06,9.28-2.63,8.88-22.12,10.6-23.31.28-.46-3.97,7.2-1.7,10.73-2.52,9.46-2.19,2.55-15.46,3.29-23.29-2.45,3.81-7.95,6.53-10.58,9.35-3.54,3.81-20.36,30.84-26.34,18.7-1.89-3.84-.59-8.69.75-12.54l-2.95-.75c-.16,1.32-.59,2.61-1.48,3.63-3.89,4.48-13.68,18.66-18.49,18.66-16.01.01,4.19-30.77,8.12-36.34-1.52-2.03-12.11,3.12-12.9,4.08-.95,1.16-1.1,4.62-2.67,6.92-11.19,16.36-23.44,31.97-33.77,48.94-11.12,18.27-19.42,38.08-31.15,55.98-1.92-.93-.13-4.04.44-5.47,6.13-15.29,14.88-29.76,21.7-44.76l30.28-50.19c-16.89,15.19-33.54,33.25-51.38,47.17-9.43,7.36-28.21,22.64-40.14,14.08-9.7-6.96-1.65-23.04,2.39-31.5C24.13,83.95,82.1,33.01,118.01,16.38c12.02-5.57,34.83-12.82,31.19,9.35-.85,5.16-18.9,27.26-23.54,22.97,2.02-8.89,17.26-18,17.78-27.27.18-3.21-1.18-2.51-3.75-2.27-36.08,3.33-104.38,64.54-123.02,95.56-3.23,5.38-13.56,24.99-9.98,30.08,10.08,4.75,23.5-5.46,31.72-11.3,18.79-13.34,35.83-32.09,54.76-45.67l-.72-2.19c-7.76,3.4-39.52,23.75-32.96,3.2,16.96,1.55,59.55-26.35,72.25-24.53.9.13,1.8.44,2.64.79,3.61,6.26-13.56,25.95-16.09,33.1-.31,1,1.4,1.07,2.19.72,6.58-2.96,31.13-39,35.28-38.29,9.95,6.46-2.79,14.41-6.78,21-1.9,3.15-5.65,10.73-4.86,14.34,8.87-4.65,48.68-48.72,54.65-48.79,4.15-.05,4.03,5.11,3.78,7.97-9.49,4.03-20.77,17.82-20.8,28.25-.02,5.85,7.58-2.29,9.71-3.61l34.64-44.36-48.3,9.8c-6.3,0-5.07-2.88-4.84-8.31l61.94-11.16c8.1-8.11,12.2-19.19,21.48-25.75,7.24,6.75,1.59,11.16-2.85,17.07ZM261.52,63.49c-4.39-4.98-25.27,13.44-28.5,18.1-1.13,1.64-6.55,10.3-5.46,11.42,13.87-6.09,24.59-18,33.96-29.51Z"/>
                <path d="M397.37,95.97l2.22,7.39c-16.7,23.41-34.02,47.01-45.02,73.82l32.12-28c5.04-1.86,13.06-11.74,13.78-.8.78,11.9-14.79,23.29-12.69,36.19,13.78-9.28,22.87-25.5,34.65-36.27,1.81-1.66,4.06-1.56,5.48-2.6,1.79-1.31,1.71-5.33,5.61-5.4,28.41,6.31.5,58.06-19.86,49.41-6.73-2.86-3.34-11.64-5.19-16.94-5.84,4.28-13.63,17.18-20.02,19.94-3.53,1.52-7.47-1.35-8.47-4.75-2.98-10.09,5.49-20.97,9.81-29.45.68-1.33,3.08-3.9.96-4.95l-40.18,41.06-6.15.08c-5.12-9.58,3.58-17.51,5.7-26.38-6.8,3.82-16.12,23.77-22.88,23.78-11.94.02-4.1-20.23-2.22-26.73-6.66,3.42-20.58,26.26-26.13,27.82-1.32.37-2.6.53-3.94.13-6.09-4.72-2.06-10.25-1.24-15.75.33-2.24,1.36-3.86-1.88-3.35l-18.78,20.36c-8,1.81-13.56.02-12.94-9.09.81-11.93,25.1-36.66,36.46-38.98,3.77-.77,18.43-.89,19.31,3.56,1.25,6.3-16.09,23.13-17.42,30.82.45,1.66,1.93.69,2.96.01,7-4.59,26.66-28.35,32.4-35.87,11.69-15.32,21.07-32.61,33.31-47.58,4.62-.97,4.36,8.52,2.65,11.48-11.21,15.34-40.93,52.31-41.89,70.41-.12,2.2-.81,4.39,2.28,3.74,23.98-22.13,38.57-52.16,57.75-78.13,1.39-1.89,7.12-10.74,9.45-8.99ZM438.73,149.12c-7.72-1.69-5.37,2.89-8.8,6.71-7.43,8.28-16.04,12.9-14.81,27.25,14.66-.31,25.24-20.75,23.61-33.97ZM304.35,153.58c-2.41-.04-4.6-.42-6.97.46-6.26,2.32-23.96,18.92-27.42,25.02-1.42,2.51-2.75,5.49-2.53,8.47.98,1.08,8.23-4.85,9.55-5.94,2.27-1.88,29.67-26.38,27.36-28Z"/>
                <path d="M151.59,145.55c-3.37,6.32-9.43,12.21-11.4,19.59-2.84.1-7.15,2.09-7.21-1.98-.12-9.37,15.72-25.94,19.53-36.68.78-2.19,1.79-1.72-1-3.9-11.57,6.96-23.34,13.71-33.93,22.17-23.92,19.1-70.65,68.9-76.9,98.83-6.1,29.19,26.82,4.91,36.94-2.92,11.76-9.1,37.47-31.54,46.47-42.49,14.6-17.76,18.28-32.29,42.61-42.68,11.29-4.83,7.9-1.24,16.08-.77,3.54.2,6.6-5.36,9.22-.22,1.61,5.57-14.03,22.57-17.43,29.53-.44.9-5,9.16-.94,7.93,11.79-13.23,24.78-26.21,34.07-41.26,3.09-5.01.93-7.79,9.06-10.18l3.37,1.97c-7.41,8.14,4.39,11.94,4.37,19.23-.01,4.26-15.69,25.86-17.29,34.32-1.16,6.18.93,6.96,2.61,12.18-14.14,1.67-7.93-17.04-5.13-25.07,1.72-4.92,12.21-21.38,12.38-23.16.25-2.77-3.09-3.75-5.06-4.63l-36.11,44.75c-7.43,2.77-12.5-.44-11.59-8.47.35-3.06,6.95-11.64,1.97-11.47l-28.85,28.81c-3.47,1.99-6.42-.3-9.23-2.26-1.28-.89-.84-4.73-4-2.9-.43.25-4.37,6.57-5.87,8.11-13.64,14.06-48.33,51.43-67.2,52.47-14.21.78-18.71-6.33-17.07-20.05,4.19-35.07,65.29-98.09,94.22-118.75,3.81-2.72,15.36-10.78,19.14-11.56,24.46-5.08,9.76,21.07,4.18,31.53ZM177.34,160.95c-14.26,3.58-31.09,15.86-39.03,28.15-1.6,2.47-8.28,14.16-1.6,10.23,1.83-1.08,4.91-3.64,6.7-5.13,7.27-6.06,16.2-13.42,22.9-19.89,1.65-1.59,12.71-11.74,11.04-13.35Z"/>
                <path d="M388.53,234.77c-25.98-1.59-51.71-6.35-77.78-6.81-34.86-.61-75.93,3.33-110.15,10.14-16.51,3.29-37.44,12.26-52.17,14.36-4.68.67-8.37-.21-9.09-5.36-1.05-7.49,11.37-5.57,16.22-6.78,70.04-17.48,143.86-24.02,215.61-11.07,4.91.89,14.21,2.12,17.36,5.52Z"/>
                <path d="M269.77,148.53c-8.66,12.01-22.89,38.28-31.87,47.12-5.69,5.61-11.92,3.88-11.82-4.38.06-4.72,11.45-41.2,14.03-43.61,1.48-1.38,1.99-1.89,4.17-1.32,1.93.95,3.88,2.69,3.91,4.97.07,4.53-11.26,21.69-13.02,29.83l2.7,1.95c19.69-26.56,37.6-55.73,63.52-76.78.61,2.89-.65,3.97-2.13,5.98-8.84,12.03-19.97,23.06-29.48,36.25Z"/>
                <path d="M352.58,74.81c-2.49,3.5-14.85,15.73-18.62,17.55-4.99,2.41-7.79,2.63-12.68-.76-5.14-7.71,7.04-27.34,12.16-33.65,5.65-6.97,8.93-9.65,18.88-7.71,10.97,2.14,4.57,18.52.26,24.58ZM351.61,56.09l-7.18.22c-3.48,11.07-19.05,17.27-17.92,30.78,4.38,4.58,23.03-20.24,24.27-23.71.9-2.52,1.12-4.65.83-7.3Z"/>
             </svg>
          </div>
        </div>

        {/* MENU AREA - Right Aligned - Roboto Bold */}
        <div className="hidden md:flex gap-10 text-xs font-bold font-sans tracking-widest uppercase text-ink">
          {navItems.map((item) => (
            <button
              key={item.value}
              onClick={() => onChangeView(item.value)}
              className={`relative hover:opacity-50 transition-opacity duration-200 ${
                currentView === item.value ? 'opacity-100' : 'opacity-100'
              }`}
            >
              {item.label}
              {currentView === item.value && (
                <span className="absolute -bottom-2 left-0 w-full h-[2px] bg-ink"></span>
              )}
            </button>
          ))}
        </div>
        
        {/* Mobile Menu Icon (Placeholder) */}
        <div className="md:hidden text-ink font-bold">MENU</div>
      </div>
    </nav>
  );
};